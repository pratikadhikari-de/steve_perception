# rtabmap_front_rgbd.ini
#
# This file is loaded by rtabmap via the 'cfg' argument.
# Why INI?
# - RTAB-Map (the core) historically uses INI-style parameters.
# - You keep “algorithm behavior” here, and keep “wiring/topics” in launch.
#
# Rule of thumb:
# - If changing it requires re-wiring ROS topics -> launch.
# - If changing it affects SLAM behavior (keyframes, loop closure, memory, ICP, etc.) -> INI.

# -------------------------
# 1) Keyframe / update rate
# -------------------------
# If you insert nodes too frequently with bad odometry, you get a warped map faster.
# If you insert nodes too slowly, you may lose tracking/loop closure opportunities.
Rtabmap/DetectionRate=2.0

# -------------------------
# 2) Memory / loop closure safety
# -------------------------
# If your sim drifts, loop closures can “snap” the map aggressively.
# These help reject nasty closures and keep graph optimization stable.
RGBD/OptimizeMaxError=3.0
RGBD/OptimizeFromGraphEnd=false

# Keep a moderate short-term memory. Too small -> misses loop closures;
# too large -> may create lots of weak candidates in repetitive areas.
Mem/STMSize=30

# -------------------------
# 3) If you later add LiDAR for constraints
# -------------------------
# You said: “I don’t need 2D slam, but I want 2D lidar for correction on odometry”
# That usually means:
# - use ICP odometry (scan-matching) OR
# - feed scan to rtabmap for local constraints
#
# Not enabled yet; these are placeholders to remind you.
# Reg/Force3DoF=true
# RGBD/NeighborLinkRefining=true
